---
layout: post
title: "Clean-Architecutre #5-4부 - 클린 아키텍처 컴포넌트에 대해"
description: >
  클린 아키텍처의 구성 컴포넌트들
image: /assets/img/study/cleanCover.jpg
categories: [study,clean-architecture]
#tags: [blog]
---
* toc
{:toc}

## 26. 메인(Main) 컴포넌트

저자는 `메인 컴포넌트`가 나머지 컴포넌트를 생성하고 조정하며 관리한다고 했다.<br>
메인 컴포넌트는 가장 세부적이고 낮은 수준의 정책이다. <br>

### Q: 왜 메인이 가장 저수준이지?.. 설계도상 항상 맨 위에 있는데
그림과 헷갈리면 안된다. 아키텍처의 핵심은 애플리케이션의 '비즈니스 로직' 혹은 '도메인 로직'을 극대화하는 것이다.<br>
나머지는 그저 비즈니르 로직을 구현하기 위한 구체화 도구로 생각하면 된다.<br>
`핵심 비즈니스 로직`은 애플리케이션의 가장 '높은' 수준의 정책을 나타내고, <br>
이렇게 정의되는 '높고 낮음'의 척도는 단순히 코드의 실행 순서나 프로그램의 구조를 나타내는 것이 아니라, 어떤 것이 더 '중요한가', '변경될 확률이 낮은가'에 대한 척도라고 보면 된다.<br>


> 메인은 시스템의 진입을 유도한 후에 고수준의 부분으로 제어권을 넘기는 역할을 맡는다.<br>
> 메인을 아키텍처 경계 바깥의 플러그인들과 동일시하여 생각하면 쉽다.<br>
{:.lead}



## 27. '크고 작은 모든' 서비스들

요즘 유행하는 **서비스 지향 아키텍처**와 **마이크로서비스 아키텍처**는 서비스를 중심으로 `분리`되어 있다.<br>
### Q: 유행중인 두가지 아키텍처는 클린 아키텍처와 부합될까?
저자는 두 아키텍처의 포커싱을 단순히 `서비스`로 둔다면, 클린 아키텍처와 부합하지 않는다고 한다.<br>
{:.lead}
* 상호 **결합**이 철저하게 분리되는 것처럼 보인다.
* **개발과 배포 독립성**을 지원하는 것처럼 보인다.

서비스 중심으로 분리하는 것이, 결합도와 개발/배포 독립성이 높아지는 것을 완벽히 보장되지 않는다.<br>

* 서비스는 분리된 코드나 기능을 제공하며, 이는 '횡단 관심사'를 일으킬 수 있다.
* 서비스의 분리는 단순히 '값비싼 함수 호출'에 불과할 수 있으며, 이 자체로 아키텍처를 결정짓지는 않는다.


그렇다면 무엇이 중요한가?<br>
{:.lead}

중요한 것은 서비스 자체가 아니라 어떻게 서비스가 시스템 전체와 연결되어 있는가 <br>
즉, 서비스 내에 그어진 경계와 경계를 넘나드는 '의존성 규칙'을 어떻게 준수하고 있는가이다.<br>

아키텍처는 시스템의 **고수준 정책과 저수준의 세부사항을 분리하는 경계**에 의해 정의된다.<br>
의존성 규칙을 따르며 아키텍처 경계를 넘나드는 함수 호출이 아키텍처를 정의하는 요소이다.<br>
{:.note}


### 서비스 분리가 가진 클린 아키텍처에 대한 통념



